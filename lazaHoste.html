<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hostel Details</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- Include Bootstrap CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <!-- Include Font Awesome CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-nTmKt1GcTzG7vq2+BSLPTMq8i84sl5bj07Pw+mAwnIJG/oow9LS+JvUBw/aFw9HmkaQH+OzBsK3YFvqymaZ/3Q==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Include custom CSS for styling -->
    <style>
        /* Add your custom CSS styles here */
        .carousel-counter {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            font-size: 16px;
            padding: 5px 10px;
            border-radius: 10px;
        }
        /* Style for buttons */
        .custom-button {
            flex: 1;
            margin-right: 10px;
            width: 150px; /* Adjust the width as needed */
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .link-item {
            display: flex;
            align-items: center;
            justify-content: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col">
                <h1>NewYork Hostel</h1>
                <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img src="New York1.jpg" class="d-block w-100" alt="...">
                        </div>
                        <div class="carousel-item">
                            <img src="New York2.jpg" class="d-block w-100" alt="...">
                        </div>
                        <div class="carousel-item">
                            <img src="New York3.jpg" class="d-block w-100" alt="...">
                        </div>
                    
                        <!-- Add other carousel items as needed -->
                    </div>
                    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                    <div class="carousel-counter"></div>
                </div>
                <p>UGX 400,000. For Single Room Per Semester</p>
                <p>Electricity, Water, both Male And Female Gazzeted and Fenced near University</p>
                <p>Distance 500m from University</p>
                <p>Onzivu</p>
                <p>Total Number of Rooms Available: 20</p>
                <!-- Add additional details as needed -->
                <div class="d-flex justify-content-between">
                    <a href="whatsapp://send?phone=+256755731253" class="btn btn-success custom-button">WhatsApp</a>
                    <a href="mailto:ojwangn56@gmail.com" class="btn btn-success custom-button">Email</a>
                </div>
                <div class="row mt-3">

                    <div class="col link-item">
                        <a href="#" class="btn btn-link save-button"><i class="fa fa-bookmark-o" aria-hidden="true"></i> Save</a>
                    </div>
                    <div class="col link-item">
                        <a href="report_details.html" class="btn btn-link"><i class="fa fa-flag-o" aria-hidden="true"></i> Report</a>
                    </div>
                    <div class="col link-item">
                        <a href="#" class="btn btn-link share-button">
                          <i class="fa fa-share-alt" aria-hidden="true"></i> Share
                        </a>
                      </div>
                      
                    
                    <div class="col link-item">
                        <a href="https://www.google.com/maps/place/2.992500,30.926390" class="btn btn-success custom-button">Open Map</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Include Font Awesome for icons -->
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    <!-- Include jQuery and Bootstrap JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        $(document).ready(function() {
            $('#carouselExampleIndicators').on('slid.bs.carousel', function () {
                updateCarouselCounter();
            });
            
            function updateCarouselCounter() {
                var currentIndex = $('#carouselExampleIndicators .carousel-item.active').index() + 1;
                var totalItems = $('#carouselExampleIndicators .carousel-item').length;
                $('.carousel-counter').text(currentIndex + '/' + totalItems);
            }
            
            // Call the function once on page load
            updateCarouselCounter();
        });

        // Get all save buttons
var saveButtons = document.querySelectorAll('.save-button');

// Iterate over each save button
saveButtons.forEach(function(button) {
    // Add click event listener
    button.addEventListener('click', function(event) {
        event.preventDefault(); // Prevent the default action of the link

        // Get hostel details
        var hostelDetails = {
            name: "Laza Hostel", // Example: Get the hostel name
            location: "Onzivu", // Example: Get the hostel location
            amount: "UGX 400,000", // Example: Get the hostel amount
            distance: "1km from University" // Example: Get the distance
            // Add other hostel details as needed
        };

        // Get saved hostels from local storage
        var savedHostels = JSON.parse(localStorage.getItem('savedHostels')) || [];

        // Check if the hostel is already saved
        var isAlreadySaved = savedHostels.some(function(savedHostel) {
            return savedHostel.name === hostelDetails.name; // Assuming name is a unique identifier
        });

        // If hostel is not already saved, add it to the list of saved hostels
        if (!isAlreadySaved) {
            savedHostels.push(hostelDetails);

            // Save updated list of saved hostels to local storage
            localStorage.setItem('savedHostels', JSON.stringify(savedHostels));

            // Optionally, provide feedback to the user (e.g., a toast message)
            alert('Hostel saved successfully!');
        } else {
            // Optionally, provide feedback to the user if hostel is already saved
            alert('Hostel is already saved!');
        }
    });
});

const shareData = {
    title: "Hostel Hub",
    text: "Find accommodation on Muni Hostel Hub!",
    url: "https://hostel-hub.mozilla.org"
  };

  const btn = document.querySelector("#shareButton");
  const resultPara = document.querySelector(".result");

  // Share must be triggered by "user activation"
  btn.addEventListener("click", async () => {
    try {
      await navigator.share(shareData);
      resultPara.textContent = "Hostel Hub shared successfully";
    } catch (err) {
      resultPara.textContent = `Error: ${err}`;
    }
  });
    </script>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const shareButton = document.querySelector('.share-button');

        shareButton.addEventListener('click', async function() {
            if (navigator.share) {
                try {
                    await navigator.share({
                        title: 'Laza Hostel Details',
                        text: 'Check out this amazing hostel near the university!',
                        url: window.location.href
                    });
                    console.log('Shared successfully');
                } catch (error) {
                    console.error('Error sharing:', error);
                }
            } else {
                alert('Web Share API is not supported in this browser. You can manually share the hostel details.');
            }
        });
    });
</script>
</body>
</html>
